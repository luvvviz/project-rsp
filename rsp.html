<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock, scissors, paper</title>
</head>
<body>

  <button id="rock">Rock</button>
  <button id="paper">Paper</button>
  <button id="scissors">Scissors</button>

<script>

function getComputerChoice() {
  const rsp = ['rock', 'scissors', 'paper'];
  const rspSelected = Math.floor(Math.random() * rsp.length);
  return rsp[rspSelected];
}


let playerWinRound = "Player wins this round!"
let computerWinRound = "Computer wins this round!"
let draw = "Draw!"
let playerWin = "You win!";
let computerWin = 'Computer wins!';

let playerScore = 0;
let computerScore = 0;
let draws = 0;

function game() {
  let computerSelection = getComputerChoice();
  let playerSelection = event.target.textContent.toLowerCase();

  function playRound(playerSelection, computerSelection) { 
    if (computerSelection === playerSelection) {
      return draw;
    } else if (computerSelection === 'rock' && playerSelection === 'paper') {
      return playerWinRound;
    } else if (computerSelection === 'paper' && playerSelection === 'scissors') {
      return playerWinRound;
    } else if (computerSelection === 'scissors' && playerSelection === 'rock') {
      return playerWinRound;
    } else {
      return computerWinRound;
    }
  }

  let result = playRound();

  function gameScore(result) {
    if (result === playerWinRound) {
      playerScore++;
    } else if (result === computerWinRound) {
      computerScore++;
    } else {
      draws++;
    }
  }
    

  let roundResult = playRound(playerSelection, computerSelection);
  console.log(roundResult);
  gameScore(roundResult);

  console.log('Computer score is ' + computerScore);
  console.log('Your score is ' + playerScore);

  if (playerScore === 5) {
    console.log(playerWin);
    playerScore = 0;
    computerScore = 0;
  } else if (computerScore === 5) {
    console.log(computerWin);
    playerScore = 0;
    computerScore = 0;
  }

}

const btnRock = document.getElementById("rock");
const btnPaper = document.getElementById("paper");
const btnScissors = document.getElementById("scissors");

btnRock.addEventListener("click", function () {
  game("rock");
});

btnPaper.addEventListener("click", function () {
  game("paper");
});

btnScissors.addEventListener("click", function () {
  game("scissors");
});

</script>
</body>
</html>